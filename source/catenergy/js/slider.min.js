var rangeWidth,togglerWidth,leftLimit,rightLimit,center,viewport,tabletWidth=768,desktopWidth=1300,range=document.querySelector(".slider__range"),toggler=document.querySelector(".slider__toggler"),beforeImage=document.querySelector(".slider__resizable"),buttonBefore=document.querySelector(".slider__button--before"),buttonAfter=document.querySelector(".slider__button--after");function init(){addTogglerHandler(),resize()}function resize(){viewport=window.innerWidth,rangeWidth=getElemWidth(range),togglerWidth=getElemWidth(toggler),leftLimit=0+togglerWidth/2,rightLimit=rangeWidth-togglerWidth/2+1,center=rangeWidth/2+1,viewport<tabletWidth?(beforeImage.style.width="100%",range.classList.add("slider__range--before"),range.classList.remove("slider__range--after")):(range.classList.remove("slider__range--before"),range.classList.remove("slider__range--after"),toFiftyFiftyState())}function toFiftyFiftyState(){beforeImage.style.width=viewport<desktopWidth?"50%":"53%",toggler.style.left=center+"px"}function getElemWidth(e){return parseInt(getComputedStyle(e).width,10)}function getCoords(e){return e.getBoundingClientRect().left+pageXOffset}function addTogglerHandler(){toggler.addEventListener("mousedown",togglerDownHandler)}function togglerDownHandler(e){var t=getCoords(toggler),i=getCoords(range),o=e.pageX-t;document.onmousemove=function(e){var t=e.pageX-o-i;t<leftLimit&&(t=leftLimit),rightLimit<t&&(t=rightLimit),toggler.style.left=t+"px";var r=100-t/rightLimit*100;beforeImage.style.width=r+"%"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}window.addEventListener("load",init),window.addEventListener("resize",resize),toggler.addEventListener("dblclick",toFiftyFiftyState),buttonBefore.addEventListener("click",function(e){e.preventDefault(),beforeImage.style.width="100%",viewport<tabletWidth?(range.classList.remove("slider__range--after"),range.classList.add("slider__range--before")):toggler.style.left=leftLimit+"px"}),buttonAfter.addEventListener("click",function(e){e.preventDefault(),beforeImage.style.width="0",viewport<tabletWidth?(range.classList.remove("slider__range--before"),range.classList.add("slider__range--after")):toggler.style.left=rightLimit+"px"});